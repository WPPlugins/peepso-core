!function(a){function b(a){var b=e.find(".ps-js-installed").not(".ps-js-hidden"),c=e.find(".ps-js-toggle-installed");b.length&&("hide"===a?(l=!0,c.find("span").html(peepsoadminextdata.label_show_installed),b.hide(),q()):(l=!1,c.find("span").html(peepsoadminextdata.label_hide_installed),b.show(),q()))}var c,d=a(window),e=a(".ps-js-extensions"),f=e.find(".ps-js-list"),g=e.find(".ps-js-tabs"),h=g.find("input[type=text]"),i=e.find(".ps-js-all-installed"),j=window.peepsoextdata&&window.peepsoextdata.extensions||[],k=window.peepsoextdata&&window.peepsoextdata.spinner,l=!1,m=3;for(c in j)j[c].title=j[c].title.toLowerCase(),j[c].content=j[c].content.toLowerCase();var n=a("<div>Sorry, no extensions matched your criteria.</div>").css({paddingBottom:20}).hide(),o=a("<div>"+(k?'<img src="'+k+'" />':"Loading...")+"</div>").css({paddingBottom:20,textAlign:"center"}).hide();f.after(n).after(o);var p=_.debounce(function(d,e){var g,h,k=[],l=!0;d=(d||"").toLowerCase();for(c in j)g=j[c].categories.indexOf("translations")>=0,h=!1,"category"===e?g&&"translations"!==d?h=!1:("all"===d||j[c].categories.indexOf(d)>=0)&&(h=!0):g||(!d||j[c].title.match(d)||j[c].content.match(d)||j[c].tags.indexOf(d)>=0)&&(h=!0),h&&k.push(+j[c].id);return k.length?(b("show"),f.children(".ps-js-extension").each(function(){var b=a(this),c=b.data("id");k.indexOf(+c)>=0?(b.removeClass("ps-js-hidden").css({display:""}).find(".ps-js-description").css({height:""}),b.hasClass("ps-js-installed")||(l=!1)):b.addClass("ps-js-hidden").css({display:"none"})}),i.css({display:l?"":"none"}),o.hide(),n.hide(),f.show(),void q()):(o.hide(),f.stop().hide(),void n.show())},400),q=_.debounce(function(){var b,c=f.children(".ps-js-extension").not(".ps-js-hidden"),e=d.outerWidth(),g=e>991;l&&(c=c.not(".ps-js-installed")),g&&(f.children(".ps-js-break").remove(),c.each(function(b){b%m!==m-1&&b!==c.length-1||a(this).after('<div class="ps-js-break" style="clear:both" />')}),c.each(function(d){var e=a(this);d%m===0&&(b=0),b=Math.max(b,e.find(".ps-js-description").outerHeight()),d%m!==m-1&&d!==c.length-1||e.prevUntil(".ps-js-break").andSelf().find(".ps-js-description").css({height:b})}))},10);h.on("input",function(b){var c=a.trim(b.target.value);g.find("li").removeClass("active"),f.stop().hide(),n.hide(),o.show(),p(c)}),g.on("click",".ps-js-tab",function(){var b=a(this),c=b.data("slug");h.val(""),g.find("li").removeClass("active"),b.closest("li").addClass("active"),f.stop().hide(),n.hide(),o.show(),p(c,"category")}),e.on("click",".ps-js-toggle-installed",_.throttle(function(){b(l?"show":"hide")},400)),a(function(){p()})}(jQuery);