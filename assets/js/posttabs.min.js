!function(a){a.fn.ps_posttabs=function(b){return this._tabs=null,this._tabs_div={},this.tab_objects={},this.orig_html={},this.options={container:this},this.init=function(b){var c=this;a.extend(!0,this.options,b),a("[data-tab-id]",this.options.container).each(function(b,d){c._tabs_div[a(d).data("tab-id")]=a(d)}),this._tabs=this.find("[data-tab]"),this._tabs.on("click",function(b){var d=a(b.currentTarget);c.current_tab_id=d.data("tab"),c.show_tab(d)}).first().trigger("click"),jQuery(this.options.container).on("click",".ps-postbox-tab.interactions .ps-button-cancel",function(){c.on_cancel()}),jQuery(this.options.container).on("click",".ps-postbox-tab.interactions .postbox-submit",function(){c.on_submit()})},this.show_tab=function(b){var c=this.current_tab();c.removeClass("active"),$current_displayed=this.get_tab(c.data("tab")),$current_displayed.hide(),a(this).trigger("peepso_posttabs_cancel-"+c.data("tab"),[$current_displayed,this]),a(b).addClass("active"),$display=this.get_tab(a(b).data("tab")),a(this).trigger("peepso_posttabs_show-"+a(b).data("tab"),[$display,this])},this.current_tab=function(){return a("[data-tab]",this.options.container).filter(".active")},this.get_tab=function(b){return _.isUndefined(this._tabs_div[b])?a(""):this._tabs_div[b]},this.on_submit=function(){$current=this.current_tab(),ps_observer.apply_filters("peepso_posttabs_submit-"+$current.data("tab")),a(this).trigger("peepso_posttabs_submit-"+$current.data("tab")),a(this).trigger("peepso_posttabs_submit",[$current,this])},this.on_cancel=function(){$current=this.current_tab(),jQuery(".ps-postbox-tab-root",this.options.container).show(),jQuery(".ps-postbox-tab.interactions",this.options.container).hide(),a(this).trigger("peepso_posttabs_cancel-"+$current.data("tab"),[$current,this]),a(this).trigger("peepso_posttabs_cancel",[$current,this]),$current.trigger("click")},this.init(b),this}}(jQuery);