function PsWindow(){this.is_created=!1,this.is_visible=!1,this.close_callback=null,this.action_callback=null,this.delete_callback=null,this.confirm_callback=null,this.no_confirm_callback=null,this.title=null,this.winwidth=0,this.width=400,this.winheight=0,this.height="auto",this.is_modal=!0,this.$container=null,this.fade_time=2500}function PsMessage(){this.is_created=!1,this.is_visible=!1,this.title=null,this.winwidth=0,this.winheight=0,this.$container=null,this.wrap_id=null,this.fade_time=pswindow.fade_time}var pswindow=new PsWindow;PsWindow.prototype.create=function(){if(0===jQuery("#ps-window").length){var a=['<div id="ps-window" class="ps-dialog-wrapper">','<div class="ps-dialog-container">','<div class="ps-dialog">','<div class="ps-dialog-header">','<div id="cWindowContentTop">','<div id="cwin_logo" class="ps-dialog-title"></div>','<a class="ps-dialog-close" href="javascript:void(0);" onclick="pswindow.hide();return false;" id="cwin_close_btn">','<span class="ps-icon-remove"></span>',"</a>","</div>","</div>",'<div id="cWindowContentWrap" class="ps-dialog-body">','<div id="cWindowContent"></div>',"</div>",'<div id="cWindowContentOuter" class="ps-dialog-footer"></div>',"</div>","</div>","</div>"].join(""),b=jQuery(a),c=this;b.appendTo(document.body),c.is_created=!0,c.$container=jQuery("#ps-window"),jQuery(document).on("keyup.pswindow",function(a){c.keyup(a)})}return this.winwidth=jQuery(document.body).width(),this.winheight=jQuery(window).height(),this},PsWindow.prototype.keyup=function(a){return this.is_visible&&27===a.keyCode&&this.hide(),this},PsWindow.prototype.mouse_up=function(a){return this},PsWindow.prototype.set_content=function(a){return jQuery("#cWindowAction").remove(),jQuery("#cWindowContent").html(a),this},PsWindow.prototype.set_title=function(a){return jQuery("#cwin_logo").html(a),this},PsWindow.prototype.set_class=function(a){return jQuery("#ps-window").attr("class",a),this},PsWindow.prototype.show=function(a,b,c){if(this.is_visible)return!1;return this.create().set_title(a).set_content(b),this.$container.show(),this.refresh(),this.is_visible=!0,void 0!==c&&this.fade_out(c),this},PsWindow.prototype.set_actions=function(a){return jQuery("#cWindowAction").remove(),jQuery('<div id="cWindowAction">').html(a).appendTo("#cWindowContentOuter"),this},PsWindow.prototype.refresh=function(){return this.$container.show(),this},PsWindow.prototype.hide=function(){var a=jQuery("#ps-window");return"undefined"!=typeof ps_observer&&ps_observer.do_action("pswindow_before_close",a),a.hide(),a.find("#cwin_logo").empty(),a.find("#cWindowContent").empty(),a.find("#cWindowAction").remove(),this.is_visible=!1,a.trigger("pswindow.hidden"),"undefined"!=typeof ps_observer&&(ps_observer.apply_filters("pswindow_close"),ps_observer.do_action("pswindow_close",a)),this},PsWindow.prototype.fade_out=function(a,b){var c=this;return this.$container.fadeOut(a,function(){c.hide(),typeof b==typeof Function&&b()}),this},PsWindow.prototype.confirm_delete=function(a,b){this.delete_callback=a;var c=peepsowindowdata||{},d=c.label_confirm_delete,e=['<button type="button" class="ps-btn ps-btn-small ps-button-cancel" onclick="pswindow.hide(); return false;">',c.label_cancel,"</button>",'<button type="button" class="ps-btn ps-btn-small ps-button-action" onclick="pswindow.do_delete();">',c.label_delete,"</button>"].join(" ");return b=b||c.label_confirm_delete_content,this.show(d,b).set_actions(e),this},PsWindow.prototype.acknowledge=function(a,b){this.confirm_callback=null,this.no_confirm_callback=null;var c=peepsowindowdata||{},d=['<button type="button" class="ps-btn ps-btn-small ps-button-action" onclick="pswindow.hide(); return false;">',c.label_okay,"</button>"].join(" ");return b=b||c.label_confirm,content=a||"",this.show(b,content).set_actions(d),this},PsWindow.prototype.confirm=function(a,b,c){this.confirm_callback=b,this.no_confirm_callback=c;var d=peepsowindowdata.label_confirm,e="<div>{content}</div>",f=['<button type="button" class="ps-btn ps-btn-small ps-button-cancel" onclick="return pswindow.do_no_confirm();">',peepsowindowdata.label_no,"</button>",'<button type="button" class="ps-btn ps-btn-small ps-button-action" onclick="return pswindow.do_confirm();">',peepsowindowdata.label_yes,"</button>"].join(" ");return e=e.replace("{content}",a),this.show(d,e).set_actions(f),this},PsWindow.prototype.do_delete=function(){return typeof this.delete_callback==typeof Function&&this.delete_callback(),this},PsWindow.prototype.do_confirm=function(){return typeof this.confirm_callback==typeof Function&&this.confirm_callback(),this},PsWindow.prototype.do_no_confirm=function(){return typeof this.no_confirm_callback==typeof Function&&this.no_confirm_callback(),this.hide(),this};var psmessage=new PsMessage;PsMessage.prototype.create=function(){if(0===jQuery("#ps-message").length){var a=['<div id="ps-message" class="ps-dialog-wrapper">','<div class="ps-dialog-container">','<div class="ps-dialog">','<div class="ps-dialog-header">','<div id="c-message-content-top">','<div id="cmsg_logo" class="ps-dialog-title"></div>','<a class="ps-dialog-close" href="javascript:void(0);" onclick="psmessage.hide();return false;" id="c-msg-close-btn">','<span class="ps-icon-remove"></span>',"</a>","</div>","</div>",'<div id="c-message-content-wrap" class="ps-dialog-body">','<div id="c-message-content"></div>',"</div>",'<div id="c-message-content-outer" class="ps-dialog-footer"></div>',"</div>","</div>","</div>"].join(""),b=jQuery(a),c=this;b.appendTo(document.body),c.is_created=!0,c.$container=jQuery("#ps-message"),jQuery(document).on("keyup.psmessage",function(a){c.keyup(a)})}return this.winwidth=jQuery(document.body).width(),this.winheight=jQuery(window).height(),this},PsMessage.prototype.keyup=function(a){this.is_visible&&27===a.keyCode&&this.hide()},PsMessage.prototype.set_content=function(a){return jQuery("#c-message-action").remove(),jQuery("#c-message-content").html(a),this},PsMessage.prototype.set_title=function(a){return jQuery("#cmsg_logo").html(a),this},PsMessage.prototype.set_class=function(a){return jQuery("#ps-message").attr("class",a),this},PsMessage.prototype.show=function(a,b,c){return this.is_visible&&(this.$container.finish(),this.hide()),this.create().set_title(a).set_content(b),this.$container.show(),this.refresh(),this.is_visible=!0,void 0!==c&&this.fade_out(c),this},PsMessage.prototype.hide=function(){return jQuery("#ps-message").hide(),jQuery("#cmsg_logo").html(""),jQuery("#c-message-content").html(""),jQuery("#c-message-action").remove(),this.is_visible=!1,jQuery("#ps-message").trigger("psmessage.hidden"),this},PsMessage.prototype.fade_out=function(a,b){var c=this;return this.$container.fadeOut(a,function(){this.is_visible=!1,c.hide(),typeof b==typeof Function&&b()}),this},PsMessage.prototype.refresh=function(){return this.$container.show(),this};